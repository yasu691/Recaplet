## 09:18 Netlify から GitHub Pages へデプロイ先を移行

- 概要: デプロイ回数上限を回避するため、Netlify から GitHub Pages へ移行
- 詳細:
  - 問題: Netlify 無料枠は月300回まで。毎時更新で720回/月となり上限超過
  - 解決策: GitHub Pages へ移行(デプロイ回数無制限)
  - 実装内容:
    - `.github/workflows/deploy-gh-pages.yml` を新規作成
      - RSS更新 → ビルド → GitHub Pagesデプロイを1つのワークフローに統合
      - `actions/deploy-pages` を使用
    - `.github/workflows/update-feeds.yml` から Netlify Build Hook 部分を削除
    - `netlify.toml` を削除
- 次のアクション: GitHub リポジトリで Pages 設定を有効化し、動作確認

## 00:09 ワークフローの競合を解決

- 概要: 2つのワークフローが同時実行され競合が発生したため、重複するワークフローを削除
- 詳細:
  - 問題: `update-feeds.yml` と `deploy-gh-pages.yml` が両方とも毎時実行され、同じファイルを更新しようとして rebase で競合
  - 解決策: `update-feeds.yml` を削除し、`deploy-gh-pages.yml` に一本化
  - 理由: `deploy-gh-pages.yml` がフィード更新・ビルド・デプロイの全工程を実行するため、`update-feeds.yml` は不要
- 次のアクション: 変更をコミット&プッシュし、動作確認

## 13:52 GitHub Pages のベースパス設定を追加（第1回試行）

- 概要: デプロイは成功したが404エラーが発生したため、ベースパス設定を追加
- 詳細:
  - 問題: GitHub Pages の URL は `/Recaplet/` サブパスだが、ビルド時にルートパス `/` 前提になっていた
  - 解決策（不十分だった）:
    - `app.json` の `web` セクションに `bundler: "metro"` と `output: "static"` を追加
    - ワークフローのビルドステップに環境変数 `EXPO_PUBLIC_URL: /Recaplet` を設定
  - 結果: ビルドは成功したが、読み込み中のまま止まる問題が発生
- 次のアクション: Expo Router 用の正しい設定を調査

## 17:48 Expo Router のサブパス設定を修正（第2回試行）

- 概要: Expo Router でサブパスを正しく扱うための設定を追加
- 詳細:
  - 問題: `EXPO_PUBLIC_URL` だけでは Expo Router がサブパスを正しく認識できなかった
  - 解決策（不十分だった）:
    - `app.json` の `extra.router.origin` に完全な URL を設定: `https://yasu691.github.io/Recaplet`
    - ワークフローに `.nojekyll` ファイル作成ステップを追加（`_expo` ディレクトリを正しく扱うため）
    - 不要だった `EXPO_PUBLIC_URL` 環境変数を削除
  - 結果: `/_expo/static/js/...` を探すが、正しくは `/Recaplet/_expo/static/js/...` であるべき
- 次のアクション: Metro bundler の publicPath 設定を追加

## 22:08 Metro Config でベースパス設定を追加

- 概要: Metro bundler の publicPath を設定してサブパスを正しく扱う
- 詳細:
  - 問題: ビルド時に生成される静的アセットのパスがルートパス前提だった
  - 解決策:
    - `metro.config.js` を新規作成
    - `EXPO_BASE_URL` 環境変数を使って `publicPath` を動的に設定
    - ワークフローに `EXPO_BASE_URL: /Recaplet` を追加
  - 参考: Metro の `publicPath` はビルド時の静的アセットのベースパスを指定する
- 次のアクション: 変更をコミット&プッシュし、再デプロイして動作確認
